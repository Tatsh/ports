#!/usr/bin/env bash
DIR="$(cd "$(dirname "${BASH_SOURCE[0]}")/../.." > /dev/null 2>&1 && pwd)"
find \
    "$DIR" \
    -mindepth 2 \
    -maxdepth 2 \
    ! '(' \
    -path '*/.mypy_cache/*' -prune -o \
    -path '*/.git/*' -prune -o \
    -path '*/_resources/*' -prune -o \
    -path '*/.vscode/*' -prune \
    ')' -a \
    -type d \
    -printf '%f\n' |
    xargs port -v livecheck 2>&1 |
    grep -Fv 'seems to be up to date'
