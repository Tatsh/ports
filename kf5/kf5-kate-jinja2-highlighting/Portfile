# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4
PortSystem          1.0

set gh_user         Pitmairen
set gh_project      kate-jinja2-highlighting
set gh_commit       b0e25e0

name                kf5-${gh_project}
version             20181118
categories          kde
platforms           darwin
license             MIT
maintainers         nomaintainer
description         Improved Jinja2 syntax highlighting for Kate.
long_description    ${description}

homepage            https://github.com/${gh_user}/${gh_project}
master_sites        ${homepage}/tarball/${gh_commit}
distname            ${gh_project}-${gh_commit}
worksrcdir          ${gh_user}-${distname}

checksums           rmd160  41507c164d68cf9f89a46eddaf5b26fcb2bf0b0a \
                    sha256  c274dcba4659dcd35bc9e9f40080c7c6e9f4d0fcf0b56d3e631080c80258fec1 \
                    size    21403

# These are in the macstrop repository
depends_run-append port:kf5-kate

use_configure       no
build.cmd           echo

destroot {
    xinstall -m 755 -d ${destroot}${prefix}/share/org.kde.syntax-highlighting/syntax
    xinstall -m 644 -W ${worksrcpath} css-jinja2.xml html-jinja2.xml javascript-jinja2.xml \
        jinja2.xml yaml-jinja2.xml \
        ${destroot}${prefix}/share/org.kde.syntax-highlighting/syntax
}
