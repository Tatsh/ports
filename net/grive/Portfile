# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4
PortSystem          1.0
PortGroup           cmake 1.1

set gh_user         vitalif
set gh_project      grive2
set gh_commit       cf51167

name                grive
version             0.5.1-dev
platforms           darwin
license             GPL-2
maintainers         nomaintainer
description         Google Drive client fork.
long_description    ${description}

depends_lib         port:yajl \
                    port:curl \
                    port:libgcrypt \
                    port:boost \
                    port:json-c

homepage            https://github.com/${gh_user}/${gh_project}
master_sites        ${homepage}/tarball/${gh_commit}
distname            ${gh_project}-${gh_commit}
worksrcdir          ${gh_user}-${distname}

checksums           rmd160  f5ca51e219a65c1f1274e0ca3f5c64c1d01fd036 \
                    sha256  8a965ede60ebbcdbfcc8f9ce6715246757944a1405983bc37aa8f0d90cd8c79d \
                    size    169675

livecheck.type      regexm
livecheck.url       ${homepage}
livecheck.regex     "Latest commit.*<relative-time\\s+datetime=\"(\[^\"\]+)\""
livecheck.version   "2018-08-19T20:58:06Z"

patchfiles          mac.patch \
                    remove-unnecessary-deps.patch
patch.pre_args      -p1
