PortSystem          1.0
PortGroup           xcode 1.0
PortGroup           github 1.0

github.setup        ReactiveCocoa ReactiveSwift 6.1.0

license             MIT
maintainers         {gmail.com:audvare @Tatsh}
description         Streams of values over time. Tailored for Swift.
long_description    ${description}
categories          devel

checksums           rmd160  06f3f63abc94322c3beeb184457f0eee0843c626 \
                    sha256  c3273f5e5201a7509336a7c4bd77bea39d41d930177e4eda491d3213260032d3 \
                    size    625384

depends_lib         port:Nimble port:Quick

xcode.target        ReactiveSwift-macOS
xcode.configuration Release

# FIXME Needs files from https://github.com/jspahrsummers/xcconfigs/tree/bb795558a76e5daf3688500055bbcfe243bffa8d

pre-fetch {
    if { [vercmp ${xcodeversion} "10.0"] < 0 } {
        ui_error "Xcode 10.0 or greater is needed to build ${name}; only found version ${xcodeversion}."
        return -code error "incompatible Xcode version"
    }
}

destroot {
    copy ${worksrcpath}/build/Release/ReactiveSwift.framework \
        ${destroot}${prefix}/Library/Frameworks/
}
