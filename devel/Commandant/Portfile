PortSystem          1.0
PortGroup           xcode 1.0
PortGroup           github 1.0

name                Commandant
version             0.17.0
github.setup        Carthage ${name} ${version}
revision            1

license             MIT
maintainers         {gmail.com:audvare @Tatsh}
description         Type-safe command line argument handling.
long_description    ${description}
categories          devel

master_sites        ${github.homepage}/tarball/${git.branch}:commandant \
                    https://github.com/xcconfigs/xcconfigs/tarball/0.9:xcconfigs
worksrcdir          Carthage-${name}-ab68611
distfiles           ${name}-${version}.tar.gz:commandant \
                    xcconfigs-xcconfigs-0.9.tar.gz:xcconfigs

checksums           Commandant-0.17.0.tar.gz \
                    rmd160  50096d3dc752a11e9f6d88873074ec07ed732d7d \
                    sha256  53bf7e77301e2a5f48cb857119cd8d3f59d4824d2959e61a9d88bfbd87f6df37 \
                    size    23316 \
                    xcconfigs-xcconfigs-0.9.tar.gz \
                    rmd160  aad17ae2705c15e492e31d9f579260570c5e48f7 \
                    sha256  2d1b42a3c2c972d398d9b9deaef4698127164114044b67bd8b43fd9c1ad0a4d1 \
                    size    6772

xcode.target        Commandant
xcode.configuration Release
xcode.build.settings \
    CODE_SIGN_IDENTITY=- \
    CODE_SIGN_STYLE=Manual
xcode.destroot.settings \
    CODE_SIGN_IDENTITY=- \
    CODE_SIGN_STYLE=Manual

set gh_hash d78854b

pre-configure {
    file copy "${workpath}/xcconfigs-xcconfigs-${gh_hash}/Base" \
        "${worksrcpath}/Carthage/Checkouts/xcconfigs/Base"
    file copy "${workpath}/xcconfigs-xcconfigs-${gh_hash}/Mac OS X" \
        "${worksrcpath}/Carthage/Checkouts/xcconfigs/Mac OS X"
}

destroot {
    file copy ${worksrcpath}/build/Release/Commandant.framework \
        ${destroot}${prefix}/Library/Frameworks/
}
