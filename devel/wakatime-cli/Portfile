# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4

PortSystem          1.0
PortGroup           golang 1.0

go.setup            github.com/wakatime/wakatime-cli 1.38.0 v
github.livecheck.regex  {([0-9]+\.[0-9]+\.[0-9]+)}
revision            0
categories          devel
maintainers         {gmail.com:audvare @Tatsh}
license             BSD

description         Time tracking for coding.
long_description    ${description}

checksums           ${distname}${extract.suffix} \
                        rmd160  0b4773806b2ae0bd19378583edaa5f9acb7c3616 \
                        sha256  6ee5209688b77eccefe070173a29a1c9ffde672ab3c17879e8c86bcd972cf9b7 \
                        size    228493
go.vendors          gopkg.in/yaml.v3 \
                        lock    496545a6307b \
                        rmd160  16a43936d8ae6243895e23465132977d3a1193c2 \
                        sha256  333e78b3b9cb73b3572d62f692d32426a8554b86c93025ea032f779395869e84 \
                        size    90145 \
                    gopkg.in/yaml.v2 \
                        lock    v2.4.0 \
                        rmd160  66e9feb7944b3804efa63155ed9b618717b8955c \
                        sha256  72812077e7f20278003de6ab0d85053d89131d64c443f39115a022114fd032b6 \
                        size    73231 \
                    gopkg.in/ini.v1 \
                        lock    v1.66.3 \
                        rmd160  bd3a2eff78ce1070d58e7a46ba60666fb95acb92 \
                        sha256  d0f59e9e9c7508c4c8bb5d770f196f0783412fdd62187be99e6db0873a7791f2 \
                        size    53274 \
                    gopkg.in/check.v1 \
                        lock    10cb98267c6c \
                        rmd160  465dcadb97762c84da6fb5f6d8352abe10445817 \
                        sha256  98ec7bd0dc7d4bcee7dcafe02efab29f14dc392f43b227e517beef064e9b6369 \
                        size    32368 \
                    golang.org/x/text \
                        lock    v0.3.7 \
                        rmd160  52777fe8a68660aab6e4588322a5949b0ba42e58 \
                        sha256  48971ba6a3123c4fd81b2bdec9fda3cef5815fad76f2407c8a888032462c542d \
                        size    8356115 \
                    golang.org/x/term \
                        lock    7de9c90e9dd1 \
                        rmd160  bd573c74337fdd8e57417c03c825a315b2c208f9 \
                        sha256  5b01bffc3bc94976e27cecbe6d9c403eefc597dc2b03ddd3ad083931c0981fa4 \
                        size    15244 \
                    golang.org/x/sys \
                        lock    da31bd327af9 \
                        rmd160  d8b0df85d70b8cbb71b19b9cc280f0c8f7b855b5 \
                        sha256  64217c9d7c5d88f4c9ce502dd660576d70fc89ad31c22916ab2616123fa58d02 \
                        size    1257082 \
                    golang.org/x/net \
                        lock    69e39bad7dc2 \
                        rmd160  722be2fbb86549a951d74beb4d35f882de120354 \
                        sha256  f66db35109dbd76aac9039afbcbe891513580ff8edf986d1ed8773bcc0511d49 \
                        size    1263978 \
                    golang.org/x/crypto \
                        lock    5e0467b6c7ce \
                        rmd160  4e6c7fbf5e9105e7d95a3a0006f5d22d5ba2c43b \
                        sha256  b122f36448ed8fcf1648e19edac7757991c4d4060af9f4533198902351e00f82 \
                        size    1734236 \
                    go.etcd.io/bbolt \
                        repo    github.com/etcd-io/bbolt \
                        lock    v1.3.6 \
                        rmd160  934af729b47e620f5cd9dc35df49aa25ee1d4132 \
                        sha256  9a4df17332a1e279b44a288d33dfbdb151ecf5be825ce5075fa97d7d7e930ec6 \
                        size    98074 \
                    github.com/yookoala/realpath \
                        lock    v1.0.0 \
                        rmd160  1e9d84624b6615c6e47bc465f2d127bc5c8a63e2 \
                        sha256  813e433d921800bd80427593f744e6c1da3892b6f23b85242dc0125e59c7227c \
                        size    3318 \
                    github.com/wakatime/goInfo \
                        lock    v0.1.0-wakatime.8 \
                        rmd160  35f14f53d9bd9a47b86515c940ca20e17253b907 \
                        sha256  31d7ac0fe5063fcc30e2b6ad71b294042c944fbd38e86f864a1f8c788d0b6ade \
                        size    2817 \
                    github.com/wakatime/chroma \
                        lock    v0.10.0-wakatime.1 \
                        rmd160  fc4013e78e88c3e37f933646150aace1f4195915 \
                        sha256  d9ceff40770e7dea2ed1eaf7422fcd3f2e3645f645bfa5d4cb63ce1ea503b2ed \
                        size    885201 \
                    github.com/subosito/gotenv \
                        lock    v1.2.0 \
                        rmd160  359083733ab5db2a09169c8d6d070b03463aef60 \
                        sha256  01fc25c8959371d006a0460132b72710ac120d5400fceebbc1d321d2e9bcd4a0 \
                        size    7375 \
                    github.com/stretchr/testify \
                        lock    v1.7.0 \
                        rmd160  adae5096e8c4cfcc8e3f6d096646d1165b5ef49a \
                        sha256  f7dde97d0c9634483ae6ea273968f80f3105c22382a1f841886cd20d57586642 \
                        size    91096 \
                    github.com/spf13/viper \
                        lock    v1.10.1 \
                        rmd160  33aa1d80728c97e8b36e2f5fbf0f024356480a14 \
                        sha256  d7397e4045db14c80b84bc8b3117e915def0bf46c8c7af6a44f5d812d85da660 \
                        size    106659 \
                    github.com/spf13/pflag \
                        lock    v1.0.5 \
                        rmd160  2ce81608a38c6f383a35bccd24d64361df5828c9 \
                        sha256  7f41acdcba65b1fab5b9b633947a139f9915b60f94bdab486cdbe9d90c54f61e \
                        size    50815 \
                    github.com/spf13/jwalterweatherman \
                        lock    v1.1.0 \
                        rmd160  390db06ec6993dd9479d7fbfeaff1144d4fbc6e9 \
                        sha256  b75cd39c9d41c3f7e147225b3dbcb077d5e7a5688dc441ec15179bb1a4c6b941 \
                        size    6870 \
                    github.com/spf13/cobra \
                        lock    v1.3.0 \
                        rmd160  b396e2179691a23f82eae5bb5af09fef218dadf9 \
                        sha256  173024e7070e355d6c597b648b7096120a36aad4edba2c4b4d54fbc4d074feba \
                        size    169548 \
                    github.com/spf13/cast \
                        lock    v1.4.1 \
                        rmd160  cb1d2c13bdd8a4aafd7c4e768554bab0a65c5759 \
                        sha256  9e7890d9db7948b57974a86df8a23f235327990227c7d8f200fd1d114fa9ad07 \
                        size    13391 \
                    github.com/spf13/afero \
                        lock    v1.8.0 \
                        rmd160  f59ff7465cc416157784c490000364a00e92a669 \
                        sha256  b4650b8af287457ebc6f9d06f425e02a30f0a2c99e3b44cb058aff31973e6764 \
                        size    90571 \
                    github.com/slongfield/pyfmt \
                        lock    020a7cb18bca \
                        rmd160  59b167ff15ffc5a0c164b6b3bda3e4f760f5bb66 \
                        sha256  24a0bab91a74ccb205bbbbe7671c9f152e90496423ffc5a6e1da71d9ac99f593 \
                        size    17812 \
                    github.com/sirupsen/logrus \
                        lock    v1.8.1 \
                        rmd160  aeb4e5f2ea8112e787a72fba611605c4c87f42b5 \
                        sha256  931c31f624d05136760b41a63f6bc146b79ac91776b4642cbd2026c2792e3aca \
                        size    47184 \
                    github.com/sergi/go-diff \
                        lock    v1.1.0 \
                        rmd160  6449feb5884c316206f256e55b81aba3e6a78a9f \
                        sha256  026d3d6db40ad086954214a7f3f84b66e352d47ce259bb59b7c2b9bd843b9935 \
                        size    43569 \
                    github.com/pmezard/go-difflib \
                        lock    v1.0.0 \
                        rmd160  fc879bfbdef9e3ff50844def58404e2b5a613ab8 \
                        sha256  7cd492737641847266115f3060489a67f63581e521a8ec51efbc280c33fc991f \
                        size    11409 \
                    github.com/pkg/sftp \
                        lock    v1.13.4 \
                        rmd160  b2107f0cae9f328c64a5267854981b4075569811 \
                        sha256  6fa68c7e0b492528143e717a593115b9d4f656bb2211a2d625878c06b4e4c0a6 \
                        size    115085 \
                    github.com/pelletier/go-toml \
                        lock    v1.9.4 \
                        rmd160  bfa23a85d0cc3ad75beb7a19305b50a2bc432710 \
                        sha256  503651dcec96d7e76c5c20a598c2575f1031df09322836e8ef938075e07d20e0 \
                        size    106545 \
                    github.com/mitchellh/mapstructure \
                        lock    v1.4.3 \
                        rmd160  0d356c5704da36a626d37a592924b44d283f4096 \
                        sha256  ec44b30992a4bc81e7141cfe24521538aa693f0b99ff97868b5aa1e8370b49cc \
                        size    28434 \
                    github.com/mitchellh/go-homedir \
                        lock    v1.1.0 \
                        rmd160  44b3985e40e5bbb22d11f8622c340f9ed727ea91 \
                        sha256  024c8a57316c7fbc0eb23cdbfd57f72a74b51beb83d714034d67ee9aba48100c \
                        size    3366 \
                    github.com/mattn/go-isatty \
                        lock    v0.0.14 \
                        rmd160  8ebfd3a6f2898a729e41dff6b5359e88959c46e1 \
                        sha256  dc141c207a7f4eb83992df90ca087841a0a3aab5a4f2b528bf81d42a186bcc1e \
                        size    4705 \
                    github.com/magiconair/properties \
                        lock    v1.8.5 \
                        rmd160  b311fe21542d64d5a6c6ef38ff616045af745299 \
                        sha256  15ee374fddab7a4db77bc011564729886be13ba37f1a3070ae334808a5cf78d1 \
                        size    30512 \
                    github.com/kr/text \
                        lock    v0.2.0 \
                        rmd160  48558c7e8ff67d510f83c66883907e95f4783163 \
                        sha256  2f2e21ac8a9d523e88cbba4039441defc4a66bfaa78811c900a88fcf28729c4c \
                        size    8702 \
                    github.com/kr/pretty \
                        lock    v0.2.1 \
                        rmd160  eaf5b58a46b962079cbafddbc3ef83bdbf02b31e \
                        sha256  253c4a190c9337800e08aba66b77ea3db0835e3ae61289d80093995a649eb7ae \
                        size    8769 \
                    github.com/kr/fs \
                        lock    v0.1.0 \
                        rmd160  8abd3fd492702ff682f7eecce8af4f40f36a4b27 \
                        sha256  815510d12f36bbb2a45cd45021c65d1eaf7b035942c6694629a188ceb3ef43bf \
                        size    4410 \
                    github.com/juju/version \
                        lock    2015802527a8 \
                        rmd160  be58b9bab8b0e2fbd64baaeed249e3bb89d756b8 \
                        sha256  64811a10d170bcff8c35ebf966dde44a3278c44453cbb1315063ffc7c255d040 \
                        size    11649 \
                    github.com/juju/utils \
                        lock    4646bfea2ef1 \
                        rmd160  f1308fce69099db907f433f129ebda39204ec2ae \
                        sha256  2eff13a572379c30549f06585e6467da5f3cad53a24f779ee867017f021229a5 \
                        size    167157 \
                    github.com/juju/testing \
                        lock    77eb13d6cad2 \
                        rmd160  59041bbc7d050c111ca798249ea70743135bd4b5 \
                        sha256  ef8de8c0b0c93961f1d09437e48cd3829a6c8371f2a424ac184d5ca1f05ac83f \
                        size    69726 \
                    github.com/juju/retry \
                        lock    5526f6f6ff07 \
                        rmd160  48636d2ce795102b03f87838d88a47125e136f5a \
                        sha256  6166c26d1109c0c5a07b71045d6a344c1c543aed8f549e22e72875b028084962 \
                        size    11709 \
                    github.com/juju/mutex \
                        lock    d21b13acf4bf \
                        rmd160  d6ecd75a5227717431cd51dccf61f9646fdc4fdd \
                        sha256  f26c2d8d6b70f32ea0d1238d8e13a3ce86f7867b9bad08b4ba6a83513f0197fd \
                        size    15107 \
                    github.com/juju/mgo \
                        lock    70d5d206e208 \
                        rmd160  55d8305b0ef4a2726450f34a78fe912141969a2a \
                        sha256  ec5e13cde3d71dd51d9dc0134ecef6f0f8fa0eac38e63082e699bacc79a0a38c \
                        size    395790 \
                    github.com/juju/loggo \
                        lock    9ce3a2e09b5e \
                        rmd160  988d9ba8c915642c6be2b45e3fca64f456658ce1 \
                        sha256  addb576e85c3431ad35bc612d41db5bbcd67de6f1f3e1d0b18fce6a335cc302e \
                        size    22678 \
                    github.com/juju/errors \
                        lock    5560c4c073ff \
                        rmd160  8999328e41fe57f7708f2dfafc00e74dae15dd8f \
                        sha256  e6df3b47ed385f188c04c3e3a4564337bd2ac23479139af9af28a72d9905fa4f \
                        size    18523 \
                    github.com/juju/collections \
                        lock    0d0ec82b7271 \
                        rmd160  6e127f5fdd061d29203f21aea09c280b6b3eded2 \
                        sha256  8cbe11a3b52612c3dc4e4c322e73275d08765c1e64a5269c019ac419a8cc5935 \
                        size    10891 \
                    github.com/juju/clock \
                        lock    9c5c9712527c \
                        rmd160  09e26d7aeb2232fe7529d73f92b8ca1952d50354 \
                        sha256  092da8f44fc28cbfd40dd6819210fc01aed2b9654660494022657ac6b1ec52e4 \
                        size    9918 \
                    github.com/inconshreveable/mousetrap \
                        lock    v1.0.0 \
                        rmd160  5c617a09f1432fc543672a0e0c1e13d3752030c2 \
                        sha256  0e6bae2849f13d12fe361ecac087728e4e97f3482f4cec44f6e7a2c53bb9cd0c \
                        size    2291 \
                    github.com/hashicorp/hcl \
                        lock    v1.0.0 \
                        rmd160  ad8d0b523bb708fd6ae77df8bb414c103a75aa92 \
                        sha256  4fc0e87ac9d3d6cd042f044df2db2703bed569051fb8c179d505edeb4433e96e \
                        size    70636 \
                    github.com/golang/mock \
                        lock    v1.6.0 \
                        rmd160  ed853462703f04ce365bb17b8c88a92994aa5006 \
                        sha256  4b107f6d26db03f8a36ae38f7b017399ed56571cdbf7b7ebc7bff0006c7dffb5 \
                        size    69263 \
                    github.com/gandarez/go-olson-timezone \
                        lock    v0.1.0 \
                        rmd160  9963a0ff2f148a510cb73a8b17ea55287157239d \
                        sha256  16c50c0241413feaaae82057569a0cb372961ec676623d7dd720b7ee24892548 \
                        size    18143 \
                    github.com/fsnotify/fsnotify \
                        lock    v1.5.1 \
                        rmd160  c99fbad44a371ce38eb2bd5c6ef70fb4537952e3 \
                        sha256  699405dfda2fe02a305bee66f58046adb43f426ac905f85d80710e36846b3768 \
                        size    32714 \
                    github.com/dlclark/regexp2 \
                        lock    v1.4.0 \
                        rmd160  673e956248ad25816b7c1c1b5b3d03a76d60ebc8 \
                        sha256  8398ba62190ac9a14cc3d2f57cffbaaed0e6a4dc6773531aa1de52923d67b38d \
                        size    205581 \
                    github.com/davecgh/go-spew \
                        lock    v1.1.1 \
                        rmd160  7c02883aa81f81aca14e13a27fdca9e7fbc136f7 \
                        sha256  e85d6afa83e64962e0d63dd4812971eccf2b9b5445eda93f46a4406f0c177d5f \
                        size    42171 \
                    github.com/danwakefield/fnmatch \
                        lock    cbb64ac3d964 \
                        rmd160  19ae7b520847e16b0e8ac23ee5e6c51db3831f46 \
                        sha256  2b045b8a716e3ca32d2a930781cd421b042d0e861fa3d36a79ed5535b2e5308a \
                        size    4960 \
                    github.com/alecthomas/repr \
                        lock    bb82daffcca2 \
                        rmd160  6ae16731fc21463cbb727c8a08ae596356085fbf \
                        sha256  c25a1113237196bcce4cee877646a8f5ad57e1c1d3671ab2e026d79b81352ea5 \
                        size    6324 \
                    github.com/alecthomas/colour \
                        lock    v0.1.0 \
                        rmd160  082c43f8ea81b343b9f321e5626e068fafd885df \
                        sha256  2806193b9ee410124ef28e7861a47d35a143d2db87d3d0920bec4bac098d5df8 \
                        size    3529 \
                    github.com/alecthomas/assert \
                        lock    405dbfeb8e38 \
                        rmd160  5d141a90e1e313657b558c19d51c3bdd65b0e5e5 \
                        sha256  8c445be2c7daa6b680bfbf96823192076bbf9c0f514642687d6487fd95630a5e \
                        size    71075 \
                    github.com/Azure/go-ntlmssp \
                        lock    48547f28849e \
                        rmd160  29dea477cd3048e427f13d5d86440d8897098b89 \
                        sha256  05aa5edcd06dab037dadc69b7bf1760063cd38968ca98eca8e6c02f159c25a0d \
                        size    8211

pre-build {
    file mkdir ${workpath}/gopath/src/github.com/matishsiao
    ln -s ${workpath}/gopath/src/github.com/wakatime/goInfo \
        ${workpath}/gopath/src/github.com/matishsiao/
    ln -s ${workpath}/gopath/src/github.com/wakatime/chroma \
        ${workpath}/gopath/src/github.com/alecthomas/
    if {${build_arch} eq "x86_64"} {
        build.target build-darwin-amd64
    } elseif {${build_arch} eq "i386"} {
        build.target build-darwin-386
    } elseif {${build_arch} eq "arm64"} {
        build.target build-darwin-arm64
    } else {
        return -code error "incompatible arch"
    }
}

build.cmd       make

destroot {
    xinstall -m 0755 {*}[glob ${worksrcpath}/build/${name}-darwin-*] \
        ${destroot}${prefix}/bin/${name}
}
