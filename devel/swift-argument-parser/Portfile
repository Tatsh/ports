# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4

PortSystem          1.0
PortGroup           cmake 1.1
PortGroup           github 1.0

github.setup            apple swift-argument-parser 1.2.3
# Use archive URL so fetch works (codeload can return 403)
github.tarball_from     archive
master_sites            ${github.homepage}/archive/
distfiles               1.2.3.tar.gz
distname                swift-argument-parser-1.2.3
categories              devel
platforms               darwin
license                 Apache-2.0
maintainers             {gmail.com:audvare @Tatsh}
homepage                https://github.com/apple/swift-argument-parser
description             Straightforward, type-safe argument parsing for Swift
long_description        {*}${description}

checksums           rmd160  010b6a5677a5f775068eee158e713510d1b2edcf \
                    sha256  4a10bbef290a2167c5cc340b39f1f7ff6a8cf4e1b5433b68548bf5f1e542e908 \
                    size    645638

cmake.generator Ninja
configure.args-append -DBUILD_EXAMPLES=NO -DBUILD_TESTING=NO

post-destroot {
    ln -s ${prefix}/lib/swift/macosx/libArgumentParser.dylib ${destroot}${prefix}/lib/
    ln -s ${prefix}/lib/swift/macosx/libArgumentParserToolInfo.dylib ${destroot}${prefix}/lib/
}
