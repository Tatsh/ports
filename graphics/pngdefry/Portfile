# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4

PortSystem          1.0
PortGroup           github 1.0

github.setup        Tatsh pngdefry 1.2-jongware v
name                pngdefry
version             1.2

platforms           darwin linux freebsd
license             MIT
maintainers         {gmail.com:audvare @Tatsh}
description         Convert iOS 'optimised' PNG files to standard format.
long_description    ${description}
categories          graphics

livecheck.type      regex
livecheck.url       http://www.jongware.com/pngdefry.html
livecheck.regex     ";\\s+v(\\d\[^,\]+)"
livecheck.version   1.2

use_configure       no
build.type          gnu
build.target        ${name}
build.post_args     CFLAGS='-O2' LDFLAGS=''
worksrcdir          ${distname}/source

checksums           rmd160  14cc4860f0d3926150c85388f5934154cb7983bb \
                    sha256  acc2a637a7f9556c7fde8a5e119a7825f80d49ba64239bc9edc860a90e90f2fb \
                    size    58990

destroot {
    xinstall -m 755 ${worksrcpath}/${name} ${destroot}${prefix}/bin/${name}
    xinstall -m 644 ${worksrcpath}/../man/${name}.1 ${destroot}${prefix}/share/man/man1/${name}.1
}
